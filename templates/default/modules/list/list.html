<h1>List View</h1>	<script type="text/javascript"><!--		var maxSectionId = 0;	var maxRowId = new Array();	var languages = new Array({FOR_LANGUAGES {id:"{LANGUAGEID}", name:"{LANGUAGE}"}{COMMA} FOR_LANGUAGES});		var viewArray = new Array(		{FOR_VIEWS {id:"{VIEW_ID}",name:"{VIEW_NAME}"}{COMMA} FOR_VIEWS}	);		function createSection(sectionId, sectionNames)	{		if(sectionId == -1)		{			maxSectionId++;			sectionId = maxSectionId;		}		else		{			maxSectionId = Math.max(sectionId, maxSectionId);		}		document.getElementById('maximumsectionid').value = maxSectionId;				maxRowId[sectionId] = {maxrow:0};		var container = document.getElementById('listview_content_container');				var sectionDiv = document.createElement('div');		sectionDiv.setAttribute('id', 'section_container_' + sectionId);		var sectionHeader = document.createElement('h2');		sectionHeader.appendChild(document.createTextNode('{LANG:listviewsection}'));		sectionDiv.appendChild(sectionHeader);		for(var i = 0; i < languages.length; i++)		{			var sectionNameText = document.createElement('div');			sectionNameText.setAttribute('class', 'content_form_text');			sectionNameText.appendChild(document.createTextNode('Name: (' + languages[i]["name"] + ')'));						var sectionNameInput = document.createElement('div');			sectionNameInput.setAttribute('class', 'content_form_input');			var sectionNameInputField = document.createElement('input');			sectionNameInputField.setAttribute('class', 'content_form_input_field');			sectionNameInputField.setAttribute('type', 'text');			sectionNameInputField.setAttribute('name', 'section_name_' + sectionId + '_' + languages[i]["id"]);			if(sectionNames != false)			{				sectionNameInputField.setAttribute('value', sectionNames[i]);			}			sectionNameInput.appendChild(sectionNameInputField);						var sectionNameHelp = document.createElement('div');			sectionNameHelp.setAttribute('class', 'content_form_details');			sectionNameHelp.appendChild(document.createTextNode('{LANG:helptext_list_sectionname}'));						sectionDiv.appendChild(sectionNameText);			sectionDiv.appendChild(sectionNameInput);			sectionDiv.appendChild(sectionNameHelp);		}				var sectionRowContainer = document.createElement('div');		sectionRowContainer.setAttribute('id', 'section_row_container_' + sectionId);		sectionDiv.appendChild(sectionRowContainer);				var newRowLink = document.createElement('a');		newRowLink.href = 'javascript:void(0);';		newRowLink.onclick = (function(sectionId) { return function()					{						createSectionRow(sectionId, -1, false, '', '');					};})(sectionId);		var newRowLinkImage = document.createElement('img');		newRowLinkImage.setAttribute('src', 'templates/default/grafix/plus.png');		newRowLink.appendChild(newRowLinkImage);		newRowLink.appendChild(document.createTextNode(' {LANG:createnewrow}'));		sectionDiv.appendChild(newRowLink);				var maximumRowIdInput = document.createElement('input');		maximumRowIdInput.setAttribute('type', 'hidden');		maximumRowIdInput.setAttribute('name', 'section_' + sectionId + '_maximumrow');		maximumRowIdInput.setAttribute('id', 'section_' + sectionId + '_maximumrow');		maximumRowIdInput.setAttribute('value', '0');		sectionDiv.appendChild(maximumRowIdInput);				container.appendChild(sectionDiv);	}		function createSectionRow(sectionId, rowId, rowNames, rowImage, rowAction)	{		if(rowId == -1)		{			maxRowId[sectionId]["maxrow"] = maxRowId[sectionId]["maxrow"] + 1;			rowId = maxRowId[sectionId]["maxrow"];		}		else		{			maxRowId[sectionId]["maxrow"] = Math.max(maxRowId[sectionId]["maxrow"], rowId);		}		document.getElementById('section_' + sectionId + '_maximumrow').value = maxRowId[sectionId]["maxrow"];		var sectionContainer = document.getElementById('section_row_container_' + sectionId);				var sectionRowContainer = document.createElement('div');		sectionRowContainer.setAttribute('id', 'section_' + sectionId + '_' + rowId);				var sectionRowHeader = document.createElement('h3');		sectionRowHeader.appendChild(document.createTextNode('{LANG:listviewrow}'));		sectionRowContainer.appendChild(sectionRowHeader);				for(var i = 0; i < languages.length; i++)		{			var sectionRowNameText = document.createElement('div');			sectionRowNameText.setAttribute('class', 'content_form_text');			sectionRowNameText.appendChild(document.createTextNode('Name: (' + languages[i]["name"] + ')'));						var sectionRowNameInput = document.createElement('div');			sectionRowNameInput.setAttribute('class', 'content_form_input');			var sectionRowNameInputField = document.createElement('input');			sectionRowNameInputField.setAttribute('class', 'content_form_input_field');			sectionRowNameInputField.setAttribute('type', 'text');			sectionRowNameInputField.setAttribute('name', 'row_name_' + sectionId + '_' + rowId + '_' + languages[i]["id"]);			if(rowNames != false)			{				sectionRowNameInputField.setAttribute('value', rowNames[i]);			}			sectionRowNameInput.appendChild(sectionRowNameInputField);						var sectionRowNameHelp = document.createElement('div');			sectionRowNameHelp.setAttribute('class', 'content_form_details');			sectionRowNameHelp.appendChild(document.createTextNode('{LANG:helptext_list_rowname}'));						sectionRowContainer.appendChild(sectionRowNameText);			sectionRowContainer.appendChild(sectionRowNameInput);			sectionRowContainer.appendChild(sectionRowNameHelp);		}				var divActionViewText = document.createElement('div');		divActionViewText.setAttribute('class', 'content_form_text');		divActionViewText.appendChild(document.createTextNode('{LANG:listview_action}'));				var divActionViewInput = document.createElement('div');		divActionViewInput.setAttribute('class', 'content_form_input');		createViewList('loadaction_view_' + sectionId + '_' + rowId, ((parseInt(rowAction) > 0) ? rowAction : 0), '{LANG:sectionrow_noaction}', '{LANG:sectionrow_customaction}', rowAction, divActionViewInput);				var divActionViewHelp = document.createElement('div');		divActionViewHelp.setAttribute('class', 'content_form_details');		divActionViewHelp.appendChild(document.createTextNode('{LANG:helptext_listview_action}'));				sectionRowContainer.appendChild(divActionViewText);		sectionRowContainer.appendChild(divActionViewInput);		sectionRowContainer.appendChild(divActionViewHelp);				sectionContainer.appendChild(sectionRowContainer);	}		--></script>	<form action="index.php" method="POST">		<input type="hidden" name="m" value="list" />		<input type="hidden" name="maximumsectionid" value="{MAXIMUMSECTIONID}" id="maximumsectionid" />			{BASIC_INFO}		<div id="listview_content_container"></div>						<a href="javascript:void(0)" onclick="createSection(-1, false)"><img src="templates/default/grafix/plus.png"> {LANG:createnewsection}</a>				<div class="content_submit_button">			<input type="submit" value="{LANG:submit}" />		</div>			</form>			<script type="text/javascript"><!--	{FOR_SECTIONS	createSection({SECTION_ID}, new Array({SECTION_NAMES}));	FOR_SECTIONS}		{FOR_SECTIONROWS	createSectionRow({SECTION_ID}, {ROW_ID}, new Array({ROW_NAMES}), {ROW_IMAGE}, {ROW_ACTION});	FOR_SECTIONROWS}	--></script>