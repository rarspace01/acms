	<link rel="stylesheet" href="templates/default/modules/filemanager/css/classicTheme/style.css" type="text/css" media="all" />	<link rel="stylesheet" href="templates/default/modules/filemanager/css/shCore.css" type="text/css" media="all" />	<link rel="stylesheet" href="templates/default/modules/filemanager/css/shThemeEclipse.css" type="text/css" media="all" />	<link rel="stylesheet" href="templates/default/modules/filemanager/css/shCoreDefault.css" type="text/css"/>	<!-- /SET UP AXUPLOADER  -->	<script type="text/javascript">	SyntaxHighlighter.all({toolbar:false});	</script>		<h1>Buttonview</h1>		<form action="index.php" method="POST" id="imageselection_form" name="imageselection_form" style="display: none">					<input type="hidden" name="m" value="buttonview" />			{BASIC_INFO}				<div>			{FOR_DEVICE_TYPES_1			<div class="content_tab {LASTTABcontent_tab_lastLASTTAB} {DEFAULTTABcontent_tab_activeDEFAULTTAB}" id="device_type_tab_{DEVICE_TYPE}">				<a href="javascript:void(0);" onclick="changeTab('{DEVICE_TYPE}')">{LANG_DEVICE_TAB}</a>			</div>			FOR_DEVICE_TYPES_1}		</div>				<div style="width: 600px; height: 50px"></div>				<a href="javascript:void(0);" onclick="exchangeFile()"><img src="templates/default/grafix/change.png" /> {LANG:updateimage}</a>		<p></p>				{FOR_DEVICE_TYPES_2		<div id="content_edit_area_{DEVICE_TYPE}" style="display: none"></div>		<input type="hidden" name="picture_name_{DEVICE_TYPE}" id="picture_name_{DEVICE_TYPE}" value="" />		<input type="hidden" name="picture_org_dim_x_{DEVICE_TYPE}" id="picture_org_dim_x_{DEVICE_TYPE}" />		<input type="hidden" name="picture_org_dim_y_{DEVICE_TYPE}" id="picture_org_dim_y_{DEVICE_TYPE}" />		<input type="hidden" name="maxbuttonid_{DEVICE_TYPE}" id="maxbuttonid_{DEVICE_TYPE}" value="0" />		<script type="text/javascript"><!--		var initialiseActions{DEVICE_TYPE} = false;		--></script>		FOR_DEVICE_TYPES_2}				<input type="submit" value="{LANG:submit}" />		</form>			<div id="filemanagercontainer" style="width:500px">		{LANG:helptext_buttonview_filemanager}<br /><br />				<select onchange="existingImageSelected(this)">			<option value="0">{LANG:zoomimageselect}</option>			{FOR_BUTTONVIEW_BACKGROUND			<option>{IMAGENAME}</option>			FOR_BUTTONVIEW_BACKGROUND}		</select><br /><br />	</div>			<script type="text/javascript"><!--			var languageArray = {selectfiles:"{LANG:fm_selectfiles}", addfiles:"{LANG:fm_addfiles}", removeall:"{LANG:fm_removeall}", uploadfiles:"{LANG:fm_uploadfiles}"};			var viewArray = new Array(				{FOR_VIEWS {id:"{VIEW_ID}",name:"{VIEW_NAME}"}{COMMA} FOR_VIEWS}			);			languages = new Array({FOR_LANGUAGES {id:"{LANGUAGEID}", name:"{LANGUAGE}"}{COMMA} FOR_LANGUAGES});						textActionContainer = '{LANG:listview_action}';			textActionHelpContainer = '{LANG:helptext_listview_action}';			textTitleContainer = '{LANG:buttonview_button_title}';			textTitleHelpContainer = '{LANG:helptext_buttonview_button_title}';			textViewSelectionDefault = '{LANG:sectionrow_noaction}';			textViewSelectionCustom = '{LANG:sectionrow_customaction}';			imageUploadDir = '{CONFIG_UPLOADDIR}modules/buttonview/pictures/';			actionButtonTitleName = 'buttonview_view_';			defaultTitleValue = new Array({LANGUAGE_LIST});						$('#filemanagercontainer').ajaxupload({				url:'index.php',				data:{m:"filemanager",submit:"form",type:"uploadbuttonview"},				remotePath:'{CONFIG_UPLOADDIR}modules/buttonview/',				editFilename:false,				async:false,				finish:showImageActionSelection,				maxFiles:1			});						function existingImageSelected(selectBox)			{				if(selectBox.selectedIndex > 0)				{					for(var i = 1; i < selectBox.options.length; i++)					{						if(i == selectBox.selectedIndex)						{							showImageActionSelection(new Array(selectBox.options[i].text));							selectBox.selectedIndex = 0;							break;						}					}				}			}						function changeTabCustom(type)			{				{FOR_DEVICE_TYPES_3				if(type == '{DEVICE_TYPE}')				{					if(!{DEVICE_TYPE_EXISTS} && document.getElementById('picture_name_{DEVICE_TYPE}').value == '')					{						document.getElementById('filemanagercontainer').style.display = 'block';						document.getElementById('imageselection_form').style.display = 'none';					}					if({DEVICE_TYPE_EXISTS} && !initialiseActions{DEVICE_TYPE})					{						showImageActionSelection(new Array('{IMAGENAME}'));					}					imagePreview = document.getElementById('preview_image_' + currentViewType);				}				FOR_DEVICE_TYPES_3}									currentButtonId = document.getElementById('maxbuttonid_' + type).value;			}			function exchangeFile()			{				{FOR_DEVICE_TYPES_4				if(currentViewType == '{DEVICE_TYPE}')					initialiseActions{DEVICE_TYPE} = false;				FOR_DEVICE_TYPES_4}								document.getElementById('content_edit_area_' + currentViewType).style.display = 'none';				document.getElementById('filemanagercontainer').style.display = 'block';				document.getElementById('imageselection_form').style.display = 'none';			}						function changeNavigationBar(value)			{				wrapViewElements(false);			}			function changeTabBar(value)			{				wrapViewElements(false);			}						function wrapViewElements(initPhase)			{				var scaleHeight = 1.0;				var elementWidth = Math.min(imagePreview.width, 500);				imagePreview.style.width = elementWidth + 'px';								var elementHeight = elementWidth;				if(currentViewType == 'iphone')				{					scaleHeight = (elementWidth / 320);					elementHeight = elementWidth * 1.5;				}				if(currentViewType == 'ipad')				{					scaleHeight = (elementWidth / 1024);					elementHeight = elementWidth * 0.75;				}				var heightFromTop = 0;				var formElements = document.forms['imageselection_form'].elements;				for(var i = 0; i < formElements.length; i++)				{					if(formElements[i].name == 'view_info_navigationbar')					{						if(formElements[i].checked == true)						{							elementHeight -= 44 * scaleHeight;							if(imagePreview.previousSibling.nodeName.toLowerCase() != 'img' && imagePreview.previousSibling.id != 'navigationbar')							{								heightFromTop += 44 * scaleHeight;								var navigationBarImage = new Image();								navigationBarImage.setAttribute('id', 'navigationbar');								navigationBarImage.src = 'images/devices/' + currentViewType + '/navigationbar.png';								navigationBarImage.style.width = imagePreview.style.width;								navigationBarImage.style.height = Math.floor(44 * scaleHeight) + 'px';								imagePreview.parentNode.insertBefore(navigationBarImage, imagePreview);							}						}						else						{							if(imagePreview.previousSibling.nodeName.toLowerCase() == 'img' && imagePreview.previousSibling.id == 'navigationbar')							{								heightFromTop -= 44 * scaleHeight;								imagePreview.parentNode.removeChild(imagePreview.previousSibling);							}						}					}					if(formElements[i].name == 'view_info_tabbar')					{						if(formElements[i].value !=  -1)						{							elementHeight -= 49 * scaleHeight;							if(imagePreview.nextSibling == null || (imagePreview.nextSibling.nodeName.toLowerCase() != 'img' && imagePreview.nextSibling.id != 'tabbar'))							{								var tabBarImage = new Image();								tabBarImage.setAttribute('id', 'tabbar');								tabBarImage.src = 'images/devices/' + currentViewType + '/tabbar.png';								tabBarImage.style.width = imagePreview.style.width;								tabBarImage.style.height = Math.floor(49 * scaleHeight) + 'px';								if(imagePreview.nextSibling != null)								{									imagePreview.parentNode.insertBefore(tabBarImage, imagePreview.nextSibling);								}								else								{									imagePreview.parentNode.appendChild(tabBarImage);								}							}						}						else						{							if(imagePreview.nextSibling != null && imagePreview.nextSibling.nodeName.toLowerCase() == 'img' && imagePreview.nextSibling.id == 'tabbar')							{								imagePreview.parentNode.removeChild(imagePreview.nextSibling);							}						}					}				}				//if(!initPhase)				//{					var actionButtonElements = imagePreview.parentNode.getElementsByTagName('div');					for(var i = 0; i < actionButtonElements.length; i++)					{						var regExActionButton = new RegExp('action_container_([0-9]+?)_' + currentViewType, 'g');						if(actionButtonElements[i].id.match(regExActionButton))						{							actionButtonElements[i].style.top = Math.floor(parseFloat(actionButtonElements[i].style.top) + heightFromTop) + 'px';						}					}				//}								imagePreview.style.height = Math.floor(elementHeight) + 'px';			}			function imageLoaded()			{							{FOR_DEVICE_TYPES_5				if(!initialiseActions{DEVICE_TYPE} && currentViewType == '{DEVICE_TYPE}')				{					{FOR_BUTTONScreateAction(null,new Array({BUTTON_Y},{BUTTON_X},{BUTTON_HEIGHT},{BUTTON_WIDTH}),'{BUTTON_ACTION}',new Array({BUTTON_TITLES}));					FOR_BUTTONS}initialiseActions{DEVICE_TYPE} = true;					wrapViewElements(true);					if(lazyInitElements.length > 0)						lazyInitZoomimages(false);					else if(initPhaseImageSelection)					{						initPhaseImageSelection = false;						changeTab('{DEFAULT_DEVICE_TYPE}');						var formElement = document.getElementById('imageselection_form');						formElement.parentNode.removeChild(document.getElementById('loading_indicator'));						formElement.style.visibility = 'visible';					}					else					{						document.getElementById('content_edit_area_{DEVICE_TYPE}').style.display = 'block';					}				}				FOR_DEVICE_TYPES_5}			}						function checkDeviceInit(deviceType)			{				{FOR_DEVICE_TYPES_6				if(deviceType == '{DEVICE_TYPE}')					return initialiseActions{DEVICE_TYPE};				FOR_DEVICE_TYPES_6}			}						// remove background-attribute, as the background is set by the image-selection			document.getElementById('background_container').parentNode.removeChild(document.getElementById('background_container'));						{FOR_DEVICE_TYPES_7			if({DEVICE_TYPE_EXISTS})			{				lazyInitElements.push('{DEVICE_TYPE}');			}			FOR_DEVICE_TYPES_7}			if(lazyInitElements.length > 0)				lazyInitZoomimages(true);			else			{				initPhaseImageSelection = false;				changeTab('{DEFAULT_DEVICE_TYPE}');			}		--></script>		